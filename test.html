<!DOCTYPE html>
<html lang="en" class="full-height">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="description" content="Currency Conversion Web Application">	
    <title>Currency Converter</title>
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.css">
    <!-- Bootstrap core CSS -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <!-- Material Design Bootstrap -->
    <link href="css/mdb.css" rel="stylesheet">
    <link href="css/style.css" rel="stylesheet">
    <style>
        body {
            font-weight: 400;
        }
        .uzito {
        font-weight: 500;
        }
        
    </style>
</head>

<body class="creative-lp">
    <!-- Navigation & Intro -->
    <header>

        <!-- Navbar -->
        <!-- Navbar -->
        <nav class="navbar navbar-expand-lg navbar-light fixed-top scrolling-navbar grey">
            <div class="container-fluid">
                <a class="navbar-brand font-weight-bold title" href="#">Currency Converter</a>
                <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarTogglerDemo02" aria-controls="navbarTogglerDemo02"
                    aria-expanded="false" aria-label="Toggle navigation">
                    <span class="navbar-toggler-icon"></span>
                </button>
            </div>
        </nav>

     </header>
    <!-- Navigation & Intro -->

    <!-- Main content -->
    <main>

        <div class="container">

        <!-- Section: Main carousel -->
        <section>
            <div class="row my-5 pt-5">
            <div class="col-md-8 col-lg-8 col-sm-8 offset-md-2"> 
                <!--Panel-->
                <div class="card">
                    <div class="card-header text-center title">Currency Converter</div>
                    <div class="card-body">
                        <p class="card-title text-muted"><small><i class="fa fa-info" aria-hidden="true"></i> Enter Amount and select the currency to convert from and to</small></p>
                        <!-- Material input -->
                            <form>
                            <div class="form-row">
                                <div class="col-4">
                                    <div class="md-form mt-3">
                                        <input type="number" id="amt" name="amt" class="form-control">
                                        <label for="form1">Amount</label>
                                    </div>                                
                                </div>
                                <div class="col">
                                    <div class="md-form mt-3">
                                        <select class="mdb-select colorful-select dropdown-ins cur">
                                            <option value="1" selected disabled>Select Currency</option>
                                            
                                        </select>
                                        <label>Convert from:</label>
                                    </div>                                
                                </div>
                            </div>
                            <div class="form-row mt-3">
                                <div class="col-4 text-center">
                                    <i class="fa fa-exchange" aria-hidden="true"></i>
                                </div>
                                <div class="col">
                                    <div class="md-form ">
                                        <!--Blue select-->
                                        <select class="mdb-select colorful-select dropdown-ins cur">
                                            <option value="1" selected disabled>Select Currency</option>
                                        </select>
                                        <label>Convert to:</label>
                                        <!--/Blue select-->
                                    </div>                                
                                </div>                                
                            </div>
                        <div class="form-row mt-3">
                            <div class="col text-center">
                                <button type="submit" class="btn btn-mdb-color">Convert</button>
                            </div>
                        </div>                   
                       </form>
                    </div>
                    <div class="card-footer text-center mdb-color white-text">
                        Amount in <span id="to_currency">USD</span>: <span id="result">4000.21</span><br>
                    </div>
                </div>
                <!--/.Panel--> 
                
                
            </div>  
            </div>
        </section>

            <hr>


        </div>
    </main>
    <!-- Main content -->

    <!--Footer-->
    <footer class="page-footer center-on-small-only unique-color-dark pt-0">
        <div class="footer-copyright">
            <div class="container-fluid">
            &copy; Michael Malonza
            </div>
        </div>
    </footer>
    <!--/.Footer-->

    <script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
    <!-- Bootstrap core JavaScript -->
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <!-- MDB core JavaScript -->
    <script type="text/javascript" src="js/mdb.min.js"></script>
    <script>
       // Material Select Initialization
//          const option = document.createElement('option');
//                     option.value = `sasa`;
//                     option.appendChild(document.createTextNode(`sasad`));
//                     $('.cur').append(option);
        $(".cur").append('<option value="option6">option6</option>');
         $('.mdb-select').material_select();
    </script>

    <script>
        let option = '';
        fetch('currencies.json').then(response => {
            if(response.status !== 200){
                console.log('An error occured fetching');
                return;
            }
            
         response.json().then(results => {

             for (const result in results){
                 for (const c_id in results[result]){
                     
                    const option = document.createElement('option');
                     option.value = `${results[result][c_id]["id"]}`;
                     option.appendChild(document.createTextNode(`${results[result][c_id]["currencySymbol"]} - ${results[result][c_id]["currencyName"]}`));
                     select.appendChild(option);
                     $('.mdb-select').material_select();
                 }
//                  console.log(option);
             }
             
             console.log(results);
            
         });    
        }).catch( (err) => console.log(`Error - ${err}!`) );
        
    </script>
</body>

</html>